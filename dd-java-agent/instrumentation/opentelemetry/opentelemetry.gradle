ext {
  minJavaVersionForTests = JavaVersion.VERSION_1_8
}

// Made this a variable so we can easily update to latest releases.
def otelVersion = '0.10.0'

muzzle {
  pass {
    module = 'opentelemetry-api'
    group = 'io.opentelemetry'
    versions = "[$otelVersion,]"
    assertInverse = true
    skipVersions = ['0.2.2', '0.2.3', '0.9.0']
  }
}

apply from: "$rootDir/gradle/java.gradle"

// Can't have a latest test until a new version is released.
//apply plugin: 'org.unbroken-dome.test-sets'
//
//testSets {
//  latestDepTest {
//    dirName = 'test'
//  }
//}

dependencies {
  compileOnly group: 'io.opentelemetry', name: 'opentelemetry-api', version: otelVersion
  main_java8CompileOnly group: 'io.opentelemetry', name: 'opentelemetry-api', version: otelVersion

  main_java8CompileOnly group: 'com.google.code.findbugs', name: 'jsr305', version: '3.0.2'
  main_java8CompileOnly group: 'com.google.auto.value', name: 'auto-value-annotations', version: '1.6.6'

  testCompile group: 'io.opentelemetry', name: 'opentelemetry-api', version: otelVersion
  //  latestDepTestCompile group: 'io.opentelemetry', name: 'opentelemetry-api', version: '0.7+'
}
